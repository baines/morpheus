* handle message splitting
* call /logout on disconnect
* away-notify CAP for presence updates
* room lookup for /list
	* /publicRooms endpoint
	* query every ~10m and cache?
* power levels
* presence
	* probably need list of presence per client to compare against for changes
	* RPL_AWAY when idle/offline status?
* NAMES '=' character should depend on invite-only status (or guest_access ??)
* WHO / WHOIS
* TLS for IRC socket
* join to non-existent room should create it
* part should call /forget?
* if, after a leave, we are left in an empty room with no power: leave + forget it
* think how to handle clashing nicknames
	* use ` as nick suffix to make them always unique
	* homeserver nicks always have no suffix
* fix TOPIC with no args
* znc style history logging
* use syslog? or custom log scheme?
* daemon()
* pagination
* rate limiting
* olm stuff?
* set display name based on nick / real name?
* split messages into multiple when matrix contains \n
* keep device_id stable for same device+user pair
	* show the device_id to the user in welcome message
* figure something sensible out for channels without a canonical alias
	+Linux
	+Site_Activity
	+Linux|1932 -> 1932 represents other home server?
	sanitize + convert display names of rooms/users to irc format?
* make sure a sync is running on tick?
* handle curl errors gracefully

